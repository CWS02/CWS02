@model IEnumerable<prjWastes6.Models.Diesel>

@{
    ViewBag.Title = "緊急發電機（柴油）";
    Layout = "~/Views/Shared/_LayoutMember.cshtml";
}

<head>
    <link rel="stylesheet" href="~/css/style2.css" />
</head>

<div class="container" style="margin-top: 50px;">
    <h2 class="text-center">@ViewBag.Title</h2>
</div>

<form method="get" class="form-inline justify-content-center mb-4">
    <div class="form-group mr-5">
        <label for="year" class="mr-3">年份：</label>
        <input type="number" name="year" class="form-control" value="@ViewBag.year" min="2024" max="2030"  step="1"/>
    </div>

    <div class="form-group">
        <button class="btn btn-primary btn-spacing" type="submit">搜索</button>
    </div>
</form>

@if (Model != null && Model.Any())
{
    <div class="card">
        <div class="card-body">
            <div class="table-responsive" style="overflow-x: auto;">
                <table class="table table-striped table-bordered table-hover ">
                    <thead>
                        <tr>
                            <th rowspan="2">序</th>
                            <th>檢查項目</th>
                            <th>外觀檢查</th>
                            <th>面盤檢查</th>
                            <th>電池電壓檢查</th>
                            <th>本次運轉時間</th>
                            <th>油箱儲存量</th>
                            <th>啟動狀況</th>
                            <th rowspan="2">檢查表</th>
                            <th rowspan="2">編輯</th>
                        </tr>
                        <tr>
                            <th>檢查標準</th>
                            <th>無漏油.無漏水</th>
                            <th>指示燈正常</th>
                            <th>24V以上</th>
                            <th>分鐘</th>
                            <th>公升</th>
                            <th>
                                耗油量(L)：
                                (依操作手冊每小時耗82.5公升柴油)<br>
                                (每分鏡耗1.375公升柴油)
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@(Model.ToList().IndexOf(item) + 1)</td>
                                <td>@item.DI002 月</td>
                                <td>@item.DI003</td>
                                <td>@item.DI004</td>
                                <td>@item.DI005</td>
                                <td>@item.DI006</td>
                                <td>@item.DI007</td>
                                <td>@item.DI008</td>
                                <td>
                                    @if (item.DI009 != null)
                                    {
                                        <a class="btn btn-info" href="~/files/Diesel/@item.DI009" download>下載</a>
                                    }
                                </td>
                                <td>
                                    <a class="btn btn-primary" href="@Url.Action("DieselEdit", new { DI000 = item.DI000 })">
                                        編輯
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
}
else
{
    <h2>查無資料</h2>
}

